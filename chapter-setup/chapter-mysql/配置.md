# # 目录
## ## 设置运行目录
```
$ mkdir -m 777 -p /www/database/mysql/
```
## ## 工作目录
需要等待安装之后才能设置
```
$ chown -R mysql:mysql /www/database/mysql
```

# # 配置MySQL
主配置文件
```
$ vim /etc/my.cnf
```
```
[client]
default-character-set = utf8mb4
[mysql]
default-character-set = utf8mb4
[mysqld]
character-set-client-handshake = FALSE
character-set-server = utf8mb4
collation-server = utf8mb4_unicode_ci
; init_connect='SET NAMES utf8mb4' ;这句可以不加
...
; 修改路径
datadir = /www/database/mysql
...
innodb_data_home_dir = /www/database/mysql
innodb_data_file_path = ibdata1:200M;ibdata2:10M:autoextend
innodb_file_per_table = 1
innodb_log_group_home_dir = /www/database/mysql
...

general_log = 1
general_log_file=/var/log/mysql-sql.log

# 其它配置，比如缓冲区、线程数、连接数等，酌情配置
```

# # 配置MariaDB
主配置文件
```
$ vim /etc/my.cnf.d/server.cnf
```
```
[mysqld]
datadir=/www/database/mysql
socket=/var/lib/mysql/mysql.sock
#default-character-set=utf8mb4 ;这句话MariaDB无法识别
character_set_server=utf8mb4
slow_query_log=on
slow_query_log_file=/var/log/mysqld-slow.log
long_query_time=2
```
创建慢日志
> MariaDB无法自己创建该文件

```
$ touch /var/log/mysqld-slow.log
$ chmod 666 /var/log/mysqld-slow.log
```

